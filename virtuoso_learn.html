<!DOCTYPE html>
<html lang="chinese (simplified)">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Pelican" />
    <title>virtuoso学习笔记</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
    <link rel="stylesheet" type="text/css" href="/theme/css/main.css" />
    <link rel="stylesheet" type="text/css" href="/theme/css/pygment.css" />
    <link rel="stylesheet" href="/theme/css/stork.css">
    <link rel="stylesheet" media="screen and (prefers-color-scheme: dark)"
        href="/theme/css/stork-dark.css">
    <link
        href="/feeds/all.atom.xml"
        type="application/atom+xml" rel="alternate" title="Hi,Rg Atom Feed" />
<meta name="description" content="virtuoso learn" />
    <script>
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia(
                '(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>

<body class="min-h-screen flex flex-col max-w-7xl lg:max-w-none text-zinc-800 bg-neutral-100 
    dark:bg-neutral-900 dark:text-zinc-300 container mx-auto justify-center md:px-3 ">
    <nav class="sm:flex sm:justify-between xl:ml-32 pl-4 items-center">
        <div class="flex pt-4">
            <h1 class="font-semibold text-2xl"><a href="/">Hi,Rg</a></h1>
            <button id="theme-toggle" type="button"
                class="text-zinc-700 dark:text-zinc-400 rounded-full focus:outline-none text-sm ml-2 p-1">
                <svg id="theme-toggle-dark-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                </svg>
                <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                        fill-rule="evenodd" clip-rule="evenodd"></path>
                </svg>
            </button>
        </div>
        <ul class="flex flex-wrap lg:mr-24 md:pt-0">
            <li class="mr-4 pt-6"><a  href="/pages/about.html">About</a></li>
            <li class="mr-4 pt-6"><a  href="/pages/events.html">Events</a></li>
            <li class="mr-4 pt-6"><a  href="/archives.html">Archive</a></li>
            <li class="mr-4 pt-6"><a                     href="/categories.html">Categories</a></li>
            <li class="mr-4 pt-6"><a  href="/tags.html">Tags</a></li>
            <li class="mr-4 pt-6"><a  href="/search.html">Search</a></li>
        </ul>
    </nav>
    <div class="flex-grow md:max-w-screen-md md:mx-auto md:w-3/4 px-4">
        <nav class="text-zinc-800 dark:text-zinc-300 mt-12 pb-2 md:mt-16" aria-label="Breadcrumb">
            <ul class="p-0 inline-flex items-center">
                <li class="flex items-center">
                    <a href="/" class="text-zinc-800 dark:text-zinc-300 inline-flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z">
                            </path>
                        </svg>
                        Home
                    </a>
                    <svg class="fill-current w-3 h-3 mr-2 ml-1" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 320 512">
                        <path
                            d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z" />
                    </svg>
                </li>
                <li class="flex items-center">
                    <a href="/categories.html">Categories</a>
                    <svg class="fill-current w-3 h-3 mr-2 ml-1" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 320 512">
                        <path
                            d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z" />
                    </svg>
                </li>
                <li class="flex items-center">
                    <a href="/category/notes.html">notes</a>
                </li>
                <svg class="fill-current w-3 h-3 mr-2 ml-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                    <path
                        d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z" />
                </svg>
            </ul>
        </nav>

<main>
  <header>
    <h1 class="font-semibold text-3xl my-2">virtuoso学习笔记</h1>
    <footer class="flex text-sm text-zinc-800 dark:text-zinc-400">
      <div class="flex text-xs text-zinc-800 dark:text-zinc-400">
        <time>七月 20, 2023</time>
        <div>
        </div>
        <div>
          <span>&nbsp;·&nbsp;RongChuan</span>
        </div>
      </div>
    </footer>
    <div class="flex text-xs text-zinc-800 dark:text-zinc-400">
      <span>Last updated: 八月 02, 2023</span>
    </div>
  </header>
  <div class="max-w-7xl container mx-auto my-8 text-zinc-800 dark:text-zinc-300  
              prose lg:max-w-none prose-headings:text-zinc-800 prose-headings:dark:text-zinc-300 
              prose-h1:text-3xl lg:prose-h1:text-3xl prose-headings:font-semibold 
              prose-pre:bg-zinc-200 prose-pre:text-zinc-800
              dark:prose-pre:bg-zinc-800 dark:prose-pre:text-zinc-200
              prose-blockquote:text-zinc-800
              dark:prose-blockquote:text-zinc-200
              prose-a:text-gray-500
              dark:prose-a:text-gray-400
              dark:prose-strong:text-zinc-200 
              dark:prose-code:text-zinc-200
              dark:prose-code:bg-zinc-800
              prose-code:bg-zinc-200
              prose-code:font-light
              prose-img:rounded-md
              ">
    <h1>virtuoso&nbsp;学习笔记</h1>
<blockquote>
<p>主要用于cadence virtuoso layout suit <span class="caps">XL</span> user guide 的文档学习
Product version <span class="caps">IC6</span>.1.7</p>
</blockquote>
<h2>内容目录</h2>
<ol>
<li>Layout <span class="caps">XL</span>&nbsp;启动</li>
<li>启动方式</li>
<li>桌面</li>
<li>窗口</li>
<li>环境变量设置</li>
<li>显示和选择控制</li>
<li>工艺文件要求</li>
<li>Editor&nbsp;rules</li>
<li>layer&nbsp;Definition</li>
<li>layer&nbsp;rules</li>
<li>Constraint&nbsp;groups</li>
<li>devices</li>
<li>physical&nbsp;rules</li>
<li>connectivity&nbsp;rules</li>
<li>准备源电路连接</li>
<li>电路设计元素</li>
<li>设计变量</li>
<li>设计约束</li>
<li>一对多映射</li>
<li>XL中的属性</li>
<li>XL中的PIN和PIN名</li>
<li>设置物理层次(<span class="caps">CPH</span>)</li>
<li><span class="caps">LAM</span>&nbsp;文件和设置界面</li>
<li>schema&nbsp;数据转换</li>
<li>启动设置物理层次</li>
<li>层次设计模式</li>
<li>组件类型模式</li>
<li>软模块模式</li>
<li>器件接合</li>
<li><span class="caps">XL</span>&nbsp;接合要求</li>
<li>Pcells&nbsp;设置</li>
<li>手动器件接合</li>
<li>自动器件接合</li>
<li>接合debug</li>
<li>接合和virtuoso内联布线</li>
<li>先进节点的dummy图形接合</li>
<li>接合功能流程</li>
<li>生成layout</li>
<li>命名惯例</li>
<li>约束转换</li>
<li>布局布线边界</li>
<li>从源生成所有组件</li>
<li>使用skill生成组件</li>
<li>生成clones</li>
<li>生成同步clones</li>
<li>生成同步copy</li>
<li>生成dummy&nbsp;instances</li>
<li>生成mosaic&nbsp;instances</li>
<li>生成参数化layout单元</li>
<li>生成非参数化layout单元</li>
<li>生成透明的布局层次结构</li>
<li>从其他cellview加载物理信息</li>
<li>伪平行连接的定义</li>
<li>编辑layout</li>
<li>提取设计连接</li>
<li>检查设计数据</li>
<li>更新设计数据</li>
<li>XL故障排除</li>
<li>A. <span class="caps">XL</span>&nbsp;环境变量</li>
<li>B.&nbsp;命令快速参考</li>
<li>C. <span class="caps">XL</span>&nbsp;属性</li>
<li>D. <span class="caps">XL</span>&nbsp;界面</li>
<li>E.&nbsp;库与属性映射文件语法</li>
<li>F. <span class="caps">XL</span>&nbsp;助手</li>
</ol>
<h2>Getting Started with Layout <span class="caps">XL</span></h2>
<h2>Technology File Requirements for Layout <span class="caps">XL</span></h2>
<h3>1.File</h3>
<ul>
<li>Layout Editor&nbsp;Rules</li>
<li>Layer&nbsp;Definition</li>
<li>Layer&nbsp;Rules</li>
<li>Constraint&nbsp;groups</li>
<li>devices</li>
<li>physical&nbsp;rules</li>
<li>connectivity&nbsp;rules</li>
</ul>
<h2>Preparing Your Connectivity&nbsp;Source</h2>
<h2>Configuring the Physical Hierarchy (<span class="caps">CPH</span>)</h2>
<blockquote>
<p>Configure Physical Hierarchy (<span class="caps">CPH</span>) is a physical hierarchy configuration utility that lets you specify how a layout implementation is generated from a specific schematic (or from a mixedsignal, schematic and Verilog-driven)&nbsp;design.</p>
</blockquote>
<h3>1.&nbsp;三种操作模式</h3>
<ul>
<li>Hierarchy Configuration Mode&nbsp;(层次配置模式)</li>
<li>Component Types Mode&nbsp;(构件类型模式)</li>
<li>Soft Block Mode&nbsp;(软模块模式)</li>
</ul>
<h3>2. <span class="caps">LAM</span> Files and Configuration&nbsp;Views</h3>
<p>Layout <span class="caps">XL</span> schema&nbsp;(CPH功能的基础)包含两种数据格式</p>
<ul>
<li>library and attributes mapping file(<span class="caps">LAM</span> 库与属性映射文件) <blockquote>
<p>For schematic and layout library&nbsp;data</p>
</blockquote>
</li>
</ul>
<p>存储驱动布局生成的符号属性、给定库的组件类型信息以及库与单元级映射信息。
called<code>cph.lam</code> location <code>library/.cadence/dfII/cph/lam/cph.lam</code></p>
<ul>
<li>physical configuration (physConfig) view<blockquote>
<p>For layout design data
存储有<code>design-specific overrides</code>fiels，包含：</p>
</blockquote>
</li>
<li>the schematic expansion rules that drive layout&nbsp;generation; </li>
<li>design component&nbsp;types; </li>
<li>cell and instance mapping&nbsp;rules</li>
</ul>
<h3>3.legac ydata&nbsp;conversion</h3>
<p><img alt="data conversion" src="../images/notes/vo/image-1.png"></p>
<ul>
<li>A schematic library conversion (indicated by the top three arrows in the picture&nbsp;above)</li>
<li>Migration path&nbsp;(automatically)</li>
<li>the utility described in Converting Schematic Libraries and Designs&nbsp;(utility)</li>
<li>A layout design conversion (indicated by the bottom two arrows in the picture&nbsp;above)</li>
<li>run auto when load&nbsp;design</li>
<li><code>cphUprevDesign</code> skill function&nbsp;(manually)</li>
</ul>
<h2>Device&nbsp;Abutment</h2>
<h3>1. Mirroring and Pin Permutation During&nbsp;Abutment</h3>
<p>If an attempt to abut two devices causes two pins on the same net to touch, a short violation is&nbsp;created.</p>
<p><code>autoMirror</code> and <code>autoMirrorChains</code> environment variables controlled this&nbsp;behavior.</p>
<h3>2. Requirements for Abutment in Layout <span class="caps">XL</span></h3>
<ul>
<li>The abutment engine is&nbsp;enabled.</li>
<li>Both instances must be pcells set up for abutment or cells with the appropriate abutment properties set. For more information, see “Setting Up Pcells for&nbsp;Abutment”</li>
<li>Both instances must share the same master or must have the abutClass property set
If two instances have the same master, then they can be abutted, even if the abutClass is set to different values on each instances. To abut two cells with different masters, you must add the abutClass property to the pin of each cell and enter the same abutment class name as the value for each property. For more information, see About Pcell Super and Submaster Cells in the Virtuoso Layout Suite <span class="caps">SKILL</span>&nbsp;Reference</li>
<li>The instances must&nbsp;overlap.</li>
<li>Both instance pins must be connected to the same&nbsp;net.</li>
<li>Both instance pins must be defined on shapes of the same layer or on layers that are defined as equivalent layers in the technology&nbsp;file.</li>
<li>Both instance pins can have the same abutment direction if the rotation of one (but not both) of the pins is either R180 or <span class="caps">MY</span>, or any other rotation that transforms the left-hand side to the right-hand&nbsp;side.</li>
<li>During placement, the Connectivity extractor and Abut transistors options in the Layout <span class="caps">XL</span> Options form must be turned on. When the Abut transistors option is turned on, devices that have not been abutted but are overlapping are abutted. If the devices are already abutted, autoAbutment does not re-abut the&nbsp;devices.</li>
<li>If one of the instances is in any type of group (including a synchronous clone), the other instance must be in the same&nbsp;group.</li>
</ul>
<h2>Generating a&nbsp;Layout</h2>
<h3>Generating Selected Components form&nbsp;source</h3>
<p>You can select the components to be generated either from the schematic canvas or from the <code>Ungenerated</code> instances list in the <code>Navigator assistant</code>.</p>
<h3>Generating&nbsp;Clones</h3>
<ul>
<li>replicate a section of the&nbsp;layout</li>
<li>each part preserving the hierarchical structure of the&nbsp;design.</li>
<li>cloneed structure maintain its schematic correspondence and inherits the connectivity&nbsp;information.</li>
</ul>
<p>Layout <span class="caps">XL</span> also supports clone creation by setting a <code>clone Famliy</code> in the <code>constraint Manager</code> :<code>Virtuoso Unified Custom Constraints User Guide</code></p>
<h2>Editing the&nbsp;Layout</h2>
<h2>Extracting Design&nbsp;Connectivity</h2>
<h2>Checking Design&nbsp;Data</h2>
<h2>Updating Design&nbsp;Data</h2>
<h2>Troubleshooting Layout <span class="caps">XL</span></h2>
<h2>附录</h2>
<h3>.1.文件类型</h3>
<ul>
<li><code>cds.lib</code>: the&nbsp;currentlibrarydefinition</li>
</ul>
<h3>.2.缩写解释</h3>
<ul>
<li><code>CPH</code>:Configuring the Physical&nbsp;Hierarchy</li>
</ul>
    <!-- <div class="aspect-w-16 aspect-h-9 mx-auto"></div> CSS placeholder -->
  </div>
  <footer class="flex flex-col mt-10 ">
    <ul class="flex flex-wrap">
      <a href="/tag/candence.html">
        <li
          class="bg-zinc-200 hover:bg-zinc-300 dark:hover:bg-zinc-800 dark:bg-zinc-700 text-zinc-500 dark:text-neutral-400 mb-2 mr-2 px-3 py-1.5 rounded-md transition ease-in active:-translate-y-1 active:scale-110 duration-75">
          candence
        </li>
      </a>
      <a href="/tag/virtuoso.html">
        <li
          class="bg-zinc-200 hover:bg-zinc-300 dark:hover:bg-zinc-800 dark:bg-zinc-700 text-zinc-500 dark:text-neutral-400 mb-2 mr-2 px-3 py-1.5 rounded-md transition ease-in active:-translate-y-1 active:scale-110 duration-75">
          virtuoso
        </li>
      </a>
    </ul>
    <div class="flex w-full my-2 bg-zinc-200 dark:bg-zinc-700 rounded-lg">
      <div class="w-1/2 hover:bg-zinc-300 dark:hover:bg-zinc-800 rounded-l-lg">
        <a class="flex flex-col pr-2" href="/cadence_learn.html">
          <div class="mx-4 py-2 text-left">
            <p class="text-zinc-500 dark:text-neutral-400 text-sm">« PREV PAGE</p>
            <p class="text-left py-1 hover:underline">cadence学习笔记</p>
          </div>
        </a>
      </div>
      <div class="w-1/2 hover:bg-zinc-300 dark:hover:bg-zinc-800 rounded-r-lg ">
        <a class="flex flex-col" href="/nfc_method.html">
          <div class="text-right mx-4 py-2">
            <p class="text-zinc-500 dark:text-neutral-400 text-sm">NEXT PAGE »</p>
            <p class="text-right py-1 hover:underline"><span class="caps">NFC</span>&nbsp;基础</p>
          </div>
        </a>
      </div>
    </div>
    <div class="flex bg-zinc-200 dark:bg-zinc-700 py-2 rounded-lg justify-center space-x-2 text-xs">
      <ul>
        <a target="_blank" rel="noopener noreferrer" title="linkedin" aria-label="share Features on linkedin"
          href="https://www.linkedin.com/sharing/share-offsite/?url=/virtuoso_learn.html">
          <li class="bg-gray-900 p-1 text-white rounded-md">
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </li>
        </a>
      </ul>
    </div>
  </footer>
  <div>
  </div>
</main>

    </div>
    <footer class="flex w-full text-xs justify-center mt-10 mb-6 text-zinc-500 dark:text-zinc-400">
        <div class="px-4">
            <span>©2022&nbsp;&#8226;&nbsp;</span>Powered by
            <a class="underline" href="https://getpelican.com/">Pelican</a>&nbsp;&
            <a class="underline" href="https://github.com/aleylara/Papyrus">Papyrus</a>
        </div>
    </footer>


    <script>
        let themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
        let themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia(
                '(prefers-color-scheme: dark)').matches)) {
            themeToggleLightIcon.classList.remove('hidden');
        } else {
            themeToggleDarkIcon.classList.remove('hidden');
        }
        let themeToggleBtn = document.getElementById('theme-toggle');
        themeToggleBtn.addEventListener('click', function () {
            themeToggleDarkIcon.classList.toggle('hidden');
            themeToggleLightIcon.classList.toggle('hidden');
            if (localStorage.getItem('color-theme')) {
                if (localStorage.getItem('color-theme') === 'light') {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                }
            } else {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('color-theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('color-theme', 'dark');
                }
            }
        });
    </script>
</body>

</html>